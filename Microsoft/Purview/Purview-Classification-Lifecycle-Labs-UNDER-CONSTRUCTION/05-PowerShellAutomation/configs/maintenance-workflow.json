{
  "workflowName": "Monthly Maintenance Workflow",
  "description": "Monthly maintenance tasks including classification refresh, label validation, log cleanup, and operational reporting",
  "steps": [
    {
      "name": "Refresh All Site Classifications",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Invoke-BulkClassification.ps1",
      "parameters": {
        "SiteListCsv": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\configs\\all-sites.csv",
        "MaxConcurrent": 10,
        "RetryAttempts": 3
      },
      "validationCommand": "$null -ne (Get-Content 'logs\\bulk-classification.log' -ErrorAction SilentlyContinue)",
      "continueOnFailure": true
    },
    {
      "name": "Validate Label Coverage",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Invoke-BulkLabelApplication.ps1",
      "parameters": {
        "LabelConfigCsv": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\configs\\maintenance-labels.csv",
        "DryRun": false,
        "GenerateReport": true
      },
      "validationCommand": "$null -ne (Get-Content 'logs\\bulk-label-application.log' -ErrorAction SilentlyContinue)",
      "continueOnFailure": true
    },
    {
      "name": "Generate Executive Dashboard",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Export-PurviewReport.ps1",
      "parameters": {
        "ReportType": "Executive",
        "StartDate": "2024-12-01",
        "EndDate": "2025-01-09",
        "OutputPath": "C:\\Reports\\monthly-executive-dashboard.html",
        "OutputFormat": "HTML",
        "EmailRecipients": "compliance-team@contoso.com,management@contoso.com"
      },
      "validationCommand": "Test-Path 'C:\\Reports\\monthly-executive-dashboard.html'",
      "continueOnFailure": true
    },
    {
      "name": "Generate Operational Metrics",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Export-PurviewReport.ps1",
      "parameters": {
        "ReportType": "Operational",
        "StartDate": "2024-12-01",
        "EndDate": "2025-01-09",
        "OutputPath": "C:\\Reports\\monthly-operational-metrics.json",
        "OutputFormat": "JSON"
      },
      "validationCommand": "Test-Path 'C:\\Reports\\monthly-operational-metrics.json'",
      "continueOnFailure": true
    }
  ]
}
