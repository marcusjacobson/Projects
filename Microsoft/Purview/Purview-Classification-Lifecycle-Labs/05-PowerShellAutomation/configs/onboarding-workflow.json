{
  "workflowName": "New Project Onboarding",
  "description": "Complete onboarding workflow for new projects including test data creation, custom SIT creation, classification, and label application",
  "steps": [
    {
      "name": "Create Test Data",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\01-BasicClassification\\scripts\\Create-PurviewLabTestData.ps1",
      "parameters": {
        "SiteUrl": "https://yourtenant.sharepoint.com/sites/NewProject",
        "DataType": "Mixed",
        "DocumentCount": 50
      },
      "validationCommand": "Test-Path 'C:\\Temp\\TestData'",
      "continueOnFailure": false
    },
    {
      "name": "Create Custom SITs",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Invoke-BulkSITCreation.ps1",
      "parameters": {
        "SitDefinitionCsv": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\configs\\project-sits.csv",
        "SkipDuplicates": true
      },
      "validationCommand": "$null -ne (Get-DlpSensitiveInformationType | Where-Object { $_.Name -like '*Project*' })",
      "continueOnFailure": false
    },
    {
      "name": "Run Bulk Classification",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Invoke-BulkClassification.ps1",
      "parameters": {
        "SiteListCsv": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\configs\\project-sites.csv",
        "MaxConcurrent": 5,
        "RetryAttempts": 3
      },
      "validationCommand": "$null -ne (Get-Content 'logs\\bulk-classification.log' -Tail 1)",
      "continueOnFailure": false
    },
    {
      "name": "Apply Retention Labels",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Invoke-BulkLabelApplication.ps1",
      "parameters": {
        "LabelConfigCsv": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\configs\\project-labels.csv",
        "DryRun": false,
        "GenerateReport": true
      },
      "validationCommand": "$null -ne (Get-Content 'logs\\bulk-label-application.log' -Tail 1)",
      "continueOnFailure": false
    },
    {
      "name": "Generate Onboarding Report",
      "scriptPath": "C:\\REPO\\GitHub\\Projects\\Microsoft\\Purview\\Purview-Classification-Lifecycle-Labs\\04-PowerShellAutomation\\scripts\\Export-PurviewReport.ps1",
      "parameters": {
        "ReportType": "Executive",
        "StartDate": "2025-01-01",
        "EndDate": "2025-01-09",
        "OutputPath": "C:\\Reports\\onboarding-report.html",
        "OutputFormat": "HTML"
      },
      "validationCommand": "Test-Path 'C:\\Reports\\onboarding-report.html'",
      "continueOnFailure": true
    }
  ]
}
